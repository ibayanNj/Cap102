import 'package:flutter/material.dart';
import '../models/user.dart';
import '../services/user_queries.dart';

class _AdminUserManagementPageState extends State<AdminUserManagementPage> {
  final UserQueries _userQueries = UserQueries();
  List<User> _users = [];
  
  // Use _userQueries.fetchAllUsers() instead of inline code
  Future<void> _fetchUsers() async {
    setState(() => _isLoading = true);
    try {
      final users = await _userQueries.fetchAllUsers();
      setState(() {
        _users = users;
        _filteredUsers = users;
        _isLoading = false;
      });
    } catch (e) {
      setState(() => _isLoading = false);
      _showErrorSnackBar('Error fetching users: $e');
    }
  }
}